package teamseer_core_api;

import javax.jws.WebService;
import javax.xml.namespace.QName;
import javax.xml.rpc.ServiceException;

import java.net.URL;
import java.rmi.RemoteException;
import java.util.Arrays;
import java.util.Date;



@WebService 
public class TimeMangerConnection {
	
	public static final String teamSeerWSDLloc = "https://www.teamseer.com/services/soap/coreapi/1_0_0/teamseer_core_api.wsdl";
	public static final String teamSeerPwd = "3795bae113";
	public static final String teamSeerVersion = "1_0_0";
	public static final int teamSeerCompanyId = 1576;
	
	public static void main(String[] args) {
		
		try {
			
			Teamseer_core_apiServiceLocator service = new Teamseer_core_apiServiceLocator();
			String portAddress = service.getteamseer_core_apiPortAddress();
			service.setMaintainSession(true);
			boolean isMaintained = service.getMaintainSession();
			System.out.println( "Session Maintained: " + isMaintained );
			
			
			Teamseer_core_apiBindingStub bindingStub = new Teamseer_core_apiBindingStub(new URL(portAddress), service);
			boolean isAuthenticated = bindingStub.authenticate(teamSeerCompanyId, teamSeerPwd, teamSeerVersion);
			
			System.out.println( "Authenticated: " + isAuthenticated );
			
			if (isAuthenticated) {
				String[] users = bindingStub.getActiveUsers();
				System.out.println( Arrays.toString(users) );
			}
			
			
		} catch (Exception e) {
			System.out.println(e.getMessage());
			e.printStackTrace();
		}
		
	} // end of main
	
	
	public void doStuff(){
		
	}

}
